(function(t){function e(e){for(var r,s,i=e[0],l=e[1],c=e[2],f=0,p=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(a,s)&&a[s]&&p.push(a[s][0]),a[s]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(t[r]=l[r]);u&&u(e);while(p.length)p.shift()();return o.push.apply(o,c||[]),n()}function n(){for(var t,e=0;e<o.length;e++){for(var n=o[e],r=!0,i=1;i<n.length;i++){var l=n[i];0!==a[l]&&(r=!1)}r&&(o.splice(e--,1),t=s(s.s=n[0]))}return t}var r={},a={app:0},o=[];function s(e){if(r[e])return r[e].exports;var n=r[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=r,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)s.d(n,r,function(e){return t[e]}.bind(null,r));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/vue-json-translation/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],l=i.push.bind(i);i.push=e,i=i.slice();for(var c=0;c<i.length;c++)e(i[c]);var u=l;o.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},1:function(t,e){},"4c37":function(t,e,n){},"56d7":function(t,e,n){"use strict";n.r(e);n("a450"),n("1bc7"),n("246f"),n("cd52"),n("bdaf");var r=n("affb"),a=n.n(r),o=(n("d3e8"),n("f7a4")),s=n.n(o),i=(n("66d9"),n("53d4")),l=n.n(i),c=(n("8a2c"),n("1107")),u=n.n(c),f=(n("0cd6"),n("0459")),p=n.n(f),d=(n("9fe7"),n("060e")),h=n.n(d),v=(n("1fba"),n("17cd")),m=n.n(v),b=(n("d8f4"),n("2a87")),y=n.n(b),w=(n("2630"),n("3b6b")),g=n.n(w),_=(n("3b70"),n("59de")),k=n.n(_),J=(n("3d21"),n("4434")),S=n.n(J),x=(n("25ba"),n("5f1c"),n("6ba0"),n("b47f"),n("1f37")),O=function(){var t=this,e=t._self._c;return e("div",{staticClass:"page-wrap",attrs:{id:"app"}},[e("div",{staticClass:"title-line"},[e("h3",[t._v("i18n批量翻译JSON工具 (仅支持一维数列格式)")]),e("el-button",{attrs:{type:"warning",size:"mini",icon:"el-icon-s-tools"},on:{click:function(e){t.showVisible=!0}}},[t._v("配置")])],1),e("el-row",{staticClass:"top",attrs:{type:"flex",justify:"space-between"}},[e("el-col",{attrs:{span:10}},[e("textarea",{directives:[{name:"model",rawName:"v-model",value:t.oldJsonText,expression:"oldJsonText"}],staticClass:"input-textarea",attrs:{placeholder:"请输入要翻译的JSON数据(可参考右侧格式)"},domProps:{value:t.oldJsonText},on:{input:[function(e){e.target.composing||(t.oldJsonText=e.target.value)},t.onTypeInHandle]}})]),e("el-col",{attrs:{span:2}},[e("p",[e("el-radio",{attrs:{label:"key"},model:{value:t.rSwitch,callback:function(e){t.rSwitch=e},expression:"rSwitch"}},[t._v("翻译key")])],1),e("p",[e("el-radio",{attrs:{label:"value"},model:{value:t.rSwitch,callback:function(e){t.rSwitch=e},expression:"rSwitch"}},[t._v("翻译Value")])],1)]),e("el-col",{attrs:{span:10}},[e("pre",{staticClass:"to-json",domProps:{innerHTML:t._s(t.newJson)}})])],1),e("el-row",{staticClass:"info-alert"},[e("el-alert",{attrs:{"show-icon":"",closable:!1,title:"如果所有单词都未翻译，请检查appid或key配置是否正确，或者查看F12 ->Network定位错误原因"}})],1),e("el-row",{attrs:{gutter:20}},t._l(t.navList,(function(n){return e("el-col",{key:n.code,attrs:{span:3}},[e("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.onSetTranslateRequest(n.code)}}},[t._v("\n\t\t\t\t"+t._s(n.name)+"\n\t\t\t")])],1)})),1),e("el-card",{staticClass:"card-tips",attrs:{shadow:"never"}},[e("div",{attrs:{slot:"header"},slot:"header"},[t._v("相关工具链接：")]),t._l(t.toolNav,(function(n,r){return e("a",{key:r,attrs:{href:n.href,target:"_blank"}},[t._v("\n\t\t\t"+t._s(n.name)+"\n\t\t")])}))],2),e("el-dialog",{attrs:{title:"API配置",visible:t.showVisible},on:{"update:visible":function(e){t.showVisible=e}}},[e("el-form",{ref:"formRef",attrs:{model:t.form,rules:t.rules}},[e("el-form-item",{attrs:{label:"appid","label-width":"80px",prop:"appid"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.appid,callback:function(e){t.$set(t.form,"appid",e)},expression:"form.appid"}})],1),e("el-form-item",{attrs:{label:"key","label-width":"80px",prop:"key"}},[e("el-input",{attrs:{autocomplete:"off"},model:{value:t.form.key,callback:function(e){t.$set(t.form,"key",e)},expression:"form.key"}})],1)],1),e("div",{staticClass:"tips"},[e("p",[t._v("\n\t\t\t\t1、注册百度翻译开放平台账号\n\t\t\t\t"),e("a",{attrs:{href:"https://api.fanyi.baidu.com/",target:"_blank"}},[t._v(" https://api.fanyi.baidu.com/")]),t._v(",并进行实名认证\n\t\t\t")]),e("p",[t._v("2、开通通用翻译API服务 "),e("a",{attrs:{href:"https://fanyi-api.baidu.com/choose",target:"_blank"}},[t._v("开通链接")])]),e("p",[t._v("3、在"),e("a",{attrs:{href:"https://api.fanyi.baidu.com/manage/developer",target:"_blank"}},[t._v("开发者中心")]),t._v(",\n\t\t\t\t设置通用翻译服务信息的服务器地址，填写成"),e("a",{attrs:{href:"https://ip.cn/",target:"_blank"}},[t._v("本机网络IP")])])]),e("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(e){t.showVisible=!1}}},[t._v("取 消")]),e("el-button",{attrs:{type:"primary"},on:{click:t.confirmHandle}},[t._v("确 定")])],1)],1)],1)},j=[],T=(n("01c8"),n("34d3")),P=n.n(T),N=n("bdc9"),C=n.n(N),I=(n("fc02"),n("3269"),n("eec3"),n("868d")),V=function(t,e){var n=[];for(var r in e)n.push(t?r:e[r]);return n},q=function(t){if("string"===typeof t)try{var e=JSON.parse(t);return Object(I["a"])("object"===e&&e)||!1}catch(n){return!1}},H=function t(e){var n;if("object"===Object(I["a"])(e))if(Array.isArray(e))for(var r in n=[],e)n.push(t(e[r]));else if(null===e)n=null;else if(e.constructor===RegExp)n=e;else for(var a in n={},e)n[a]=t(e[a]);else n=e;return n},R=function(t){var e=t.split(" ");if(e.length<=1)return t.toLowerCase();var n=e.reduce((function(t,e,n){if(n<=0)t.push(e.toLowerCase());else{var r=e.slice(1,e.length),a=e.charAt(0).toUpperCase();t.push(a+r)}return t}),[]);return n.join("")},A=function(t,e){sessionStorage.setItem(t,JSON.stringify(e))},L=function(t){var e=sessionStorage.getItem(t)||null;return!!e&&JSON.parse(e)},M="__userConfig__",$=[{code:"zh",name:"翻译中文"},{code:"en",name:"翻译英文"},{code:"kor",name:"翻译韩语"},{code:"jp",name:"翻译日语"},{code:"ru",name:"翻译俄语"},{code:"th",name:"翻译泰语"},{code:"cht",name:"翻译繁体中文"}],E=[{name:"本机网络IP查询",href:"https://ip.cn/"},{name:"百度翻译开放平台",href:"https://api.fanyi.baidu.com/"},{name:"有效JSON检测工具",href:"https://www.json.cn/json/jsononline.html"}],z={name:"app",data:function(){var t={appid:"",key:""},e={appid:[{required:!0,message:"请输入APPID",trigger:"blur"}],key:[{required:!0,message:"请输入KEY",trigger:"blur"}]};return{rSwitch:"key",showVisible:!1,navList:$,toolNav:E,oldJson:null,newJson:null,oldJsonText:null,form:t,rules:e}},created:function(){this.newJson={apple:"apple",orange:"橘子",other:""};var t=L(M);t&&(this.form=t)},methods:{onTypeInHandle:function(){if(!this.oldJsonText)return!1;var t=q(this.oldJsonText)||!1;this.oldJson=!!t&&JSON.parse(this.oldJsonText)},onSetTranslateRequest:function(t){var e=this,n=this.rSwitch,r=this.oldJson,a=this.form,o=a.appid,s=a.key;if(!o||!s)return this.showVisible=!0,!1;if(!r||"{}"===JSON.stringify(r))return this.$message.error("JSON格式不合法, 请检查待翻译的JSON数据"),!1;var i=(new Date).getTime(),l="key"===n,c=V(l,r),u=c.reduce((function(t,e){return t+e+"\n"}),""),f=C()(o+u+i+s),p=P.a.stringify({q:u,from:"auto",to:t,appid:o,salt:i,sign:f}),d=new XMLHttpRequest;d.open("POST","/api/trans/vip/translate",!0),d.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),d.onerror=function(t){e.newJson=t},d.onreadystatechange=function(){if(4===d.readyState&&200===d.status){var t=JSON.parse(d.responseText),n=t.trans_result,r=n.length,a=H(e.oldJson);if(l){for(var o={},s=0;s<r;s++){var i=n[s],c=i.src,u=i.dst,f=R(u);for(var p in a)if(p===c){o[f]=p;break}}e.newJson=o}else{for(var h=0;h<r;h++){var v=n[h],m=v.src,b=v.dst;for(var y in a)if(a[y]===m){a[y]=R(b);break}}e.newJson=a}}},d.send(p)},confirmHandle:function(){var t=this;this.$refs.formRef.validate((function(e){if(!e)return!1;A(M,t.form),t.showVisible=!1}))}}},D=z,F=(n("7190"),n("e607")),K=Object(F["a"])(D,O,j,!1,null,null,null),U=K.exports,X=(n("752d"),[S.a,k.a,g.a,y.a,m.a,h.a,p.a,u.a,l.a,s.a,a.a]);X.forEach((function(t){x["default"].component(t.name,t)})),x["default"].prototype.$message=s.a,x["default"].config.productionTip=!1,new x["default"]({render:function(t){return t(U)}}).$mount("#app")},7190:function(t,e,n){"use strict";n("4c37")}});